<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Invoice – Hello Notes</title>

<link href="https://fonts.googleapis.com/css2?family=Poppins:wght@300;400;600&display=swap" rel="stylesheet">
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.28/jspdf.plugin.autotable.min.js"></script>

<style>
body{
  font-family:Poppins,sans-serif;
  background:#eef3fb;
  margin:0;
  padding:20px;
}
.invoice{
  width:210mm;
  min-height:297mm;
  margin:auto;
  background:#fff;
  padding:20px;
}
.header-center{
  display:flex;
  justify-content:center;
}
.header-wrap{
  display:flex;
  align-items:center;
  gap:16px;
}
.logo-box{
  width:80px;
  height:80px;
}
.logo-box img{
  max-width:100%;
  max-height:100%;
}
.header-text{
  text-align:center;
}
.header-text h1{
  margin:0;
  color:#2f36b3;
}
.header-text p{
  margin:2px 0;
  font-size:14px;
}
.line{
  height:3px;
  background:#2f36b3;
  margin:14px 0;
}

label{
  font-size:14px;
  margin-bottom:4px;
  display:block;
}
input,select{
  width:100%;
  height:36px;
  padding:6px 10px;
  border:1px solid #aaa;
  border-radius:5px;
  font-size:14px;
  line-height:1.2;
}

.grid2{
  display:grid;
  grid-template-columns:1fr 1fr;
  gap:14px;
}
.mt10{margin-top:10px;}

table{
  width:100%;
  border-collapse:collapse;
  margin-top:15px;
}
th{
  background:#2f36b3;
  color:#fff;
  padding:8px;
  font-size:14px;
}
td{
  border:1px solid #ccc;
  padding:6px;
  vertical-align:middle;
}
td input{
  border:none;
  height:28px;
  padding:0 6px;
  line-height:1.2;
}

.add{
  margin-top:10px;
  background:#2f36b3;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:6px;
  cursor:pointer;
}

.totals{
  border:2px solid #d4af37;
  padding:14px;
  border-radius:10px;
  margin-top:20px;
}
.row{
  display:flex;
  justify-content:space-between;
  margin:6px 0;
}
.right{
  display:flex;
  gap:6px;
}
.right input,.right select{
  width:90px;
}
.grand{
  font-size:18px;
  font-weight:600;
}
.words{
  margin-top:8px;
  font-style:italic;
}

.actions{
  margin-top:15px;
}
.actions button{
  background:#2f36b3;
  color:#fff;
  border:none;
  padding:8px 14px;
  border-radius:6px;
  cursor:pointer;
}

@media print{
  .no-print{display:none!important;}
  body{background:#fff;padding:0;}
}
</style>
</head>

<body>

<div class="invoice" id="invoice">

<!-- HEADER -->
<div class="header-center">
  <div class="header-wrap">
    <div class="logo-box">
      <img src="LOGO.jpg" id="logoImg">
    </div>
    <div class="header-text">
      <h1>Hello Notes</h1>
      <p><b>GST:</b> 29AFQFS5154Q1ZU</p>
      <p>No.6 Kurubarahalli Main Road, Kirloskar Layout</p>
      <p>Bengaluru – 570079 | Phone: 8073431538</p>
    </div>
  </div>
</div>

<div class="line"></div>

<!-- DETAILS -->
<div class="grid2">
  <div>
    <label>Invoice Number</label>
    <input>
  </div>
  <div>
    <label>Invoice Date</label>
    <input type="date">
  </div>
</div>

<div class="mt10">
  <label>Customer Name</label>
  <input>
</div>

<!-- ITEMS -->
<table id="items">
<thead>
<tr>
  <th>Item</th>
  <th>Qty</th>
  <th>Rate</th>
  <th>Total</th>
  <th class="no-print"></th>
</tr>
</thead>
<tbody></tbody>
</table>

<button class="add no-print" onclick="addRow()">+ Add Item</button>

<!-- TOTALS -->
<div class="totals">
  <div class="row"><span>Subtotal</span><span id="sub">₹0.00</span></div>

  <div class="row">
    <span>Discount</span>
    <span class="right">
      <input id="disc" value="0" type="number" oninput="calc()">
      <select id="discType" onchange="calc()">
        <option>%</option>
        <option>₹</option>
      </select>
    </span>
  </div>

  <div class="row">
    <span>GST Base</span>
    <select id="gstBase" onchange="calc()">
      <option value="after">After Discount</option>
      <option value="full">Subtotal</option>
    </select>
  </div>

  <div class="row">
    <span>GST %</span>
    <input id="gstRate" value="9" type="number" oninput="calc()">
  </div>

  <div class="row"><span>CGST</span><span id="cgst">₹0.00</span></div>
  <div class="row"><span>SGST</span><span id="sgst">₹0.00</span></div>

  <div class="row grand"><span>Grand Total</span><span id="grand">₹0.00</span></div>
  <div class="words" id="words">Amount in words: Rupees Only</div>
</div>

<div class="actions no-print">
  <button onclick="downloadPDF()">Download PDF</button>
  <button onclick="window.print()">Print</button>
</div>

</div>

<script>
const { jsPDF } = window.jspdf;
const tbody=document.querySelector("#items tbody");

function addRow(){
  const tr=document.createElement("tr");
  tr.innerHTML=`
    <td><input></td>
    <td><input type="number" value="1" oninput="calc()"></td>
    <td><input type="number" value="0" oninput="calc()"></td>
    <td class="rt">0.00</td>
    <td class="no-print"><button onclick="this.closest('tr').remove();calc()">X</button></td>
  `;
  tbody.appendChild(tr);
  calc();
}

function calc(){
  let sub=0;
  document.querySelectorAll(".rt").forEach((c,i)=>{
    const r=c.parentElement;
    const q=+r.children[1].children[0].value||0;
    const rate=+r.children[2].children[0].value||0;
    const t=q*rate;
    c.innerText=t.toFixed(2);
    sub+=t;
  });
  document.getElementById("sub").innerText="₹"+sub.toFixed(2);

  let d=+disc.value||0;
  let discount=discType.value=="%"?sub*d/100:d;
  let base=gstBase.value=="after"?sub-discount:sub;
  let gst=base*(+gstRate.value/100);

  cgst.innerText="₹"+gst.toFixed(2);
  sgst.innerText="₹"+gst.toFixed(2);
  let total=base+gst*2;

  grand.innerText="₹"+total.toFixed(2);
  words.innerText="Amount in words: "+Math.round(total)+" Rupees Only";
}

function downloadPDF(){
  const pdf=new jsPDF("p","mm","a4");
  pdf.html(document.querySelector(".invoice"),{
    scale:0.8,
    callback:(doc)=>{
      doc.save("Invoice.pdf");
    }
  });
}

addRow();
</script>
</body>
</html>
